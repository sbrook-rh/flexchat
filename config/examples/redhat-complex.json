{
  "detection_provider": {
    "provider": "openai",
    "model": "gpt-3.5-turbo"
  },
  "providers": {
    "openai": {
      "type": "openai",
      "api_key": "${OPENAI_API_KEY}",
      "base_url": "https://api.openai.com/v1"
    },
    "ollama": {
      "type": "ollama",
      "base_url": "http://localhost:11434"
    }
  },
  "knowledge_bases": {
    "openshift": {
      "type": "chromadb",
      "url": "http://localhost:5006",
      "collection": "openshift_docs",
      "embedding_provider": "openai",
      "embedding_model": "text-embedding-3-small"
    },
    "ansible": {
      "type": "chromadb",
      "url": "http://localhost:5006",
      "collection": "ansible_docs",
      "embedding_provider": "openai",
      "embedding_model": "text-embedding-3-small"
    },
    "rhel": {
      "type": "chromadb",
      "url": "http://localhost:5006",
      "collection": "rhel_docs",
      "embedding_provider": "openai",
      "embedding_model": "text-embedding-3-small"
    }
  },
  "strategies": [
    {
      "name": "OPENSHIFT",
      "detection": {
        "type": "rag",
        "knowledge_base": "openshift",
        "threshold": 0.2,
        "fallback_threshold": 0.45,
        "description": "if it's a question about Red Hat OpenShift, OpenShift AI, Kubernetes, or container orchestration"
      },
      "response": {
        "provider": "openai",
        "model": "gpt-4o-mini",
        "max_tokens": 400,
        "system_prompt": "You are an expert Red Hat OpenShift assistant. Help users with OpenShift, Kubernetes, and container orchestration questions. Use the provided context from the knowledge base to give accurate, detailed answers."
      }
    },
    {
      "name": "ANSIBLE",
      "detection": {
        "type": "rag",
        "knowledge_base": "ansible",
        "threshold": 0.2,
        "fallback_threshold": 0.45,
        "description": "if it's a question about Ansible automation, playbooks, or infrastructure as code"
      },
      "response": {
        "provider": "openai",
        "model": "gpt-4o-mini",
        "max_tokens": 400,
        "system_prompt": "You are an expert Ansible automation assistant. Help users with playbooks, modules, and automation workflows. Use the provided context from the knowledge base to give accurate, detailed answers."
      }
    },
    {
      "name": "RHEL",
      "detection": {
        "type": "rag",
        "knowledge_base": "rhel",
        "threshold": 0.2,
        "fallback_threshold": 0.45,
        "description": "if it's a question about Red Hat Enterprise Linux, system administration, or RHEL-specific features"
      },
      "response": {
        "provider": "openai",
        "model": "gpt-4o-mini",
        "max_tokens": 400,
        "system_prompt": "You are an expert Red Hat Enterprise Linux assistant. Help users with RHEL administration and troubleshooting. Use the provided context from the knowledge base to give accurate, detailed answers."
      }
    },
    {
      "name": "SUBSCRIPTIONS",
      "detection": {
        "type": "llm",
        "description": "if it's a question about Red Hat subscriptions, licensing, or support entitlements"
      },
      "response": {
        "provider": "openai",
        "model": "gpt-3.5-turbo",
        "max_tokens": 300,
        "system_prompt": "You are a Red Hat subscription specialist. Help users understand licensing, entitlements, and support options. Provide clear, accurate information about Red Hat's subscription model."
      }
    },
    {
      "name": "CODING",
      "detection": {
        "type": "llm",
        "description": "if it's a question about programming, coding, or software development"
      },
      "response": {
        "provider": "openai",
        "model": "gpt-4o-mini",
        "max_tokens": 500,
        "system_prompt": "You are a helpful programming assistant. Help users with coding questions, debugging, and best practices. Provide clear, well-structured code examples and explanations."
      }
    },
    {
      "name": "GENERAL",
      "detection": {
        "type": "default"
      },
      "response": {
        "provider": "openai",
        "model": "gpt-3.5-turbo",
        "max_tokens": 50,
        "system_prompt": "You are a helpful assistant. Provide a brief, polite response to off-topic questions."
      }
    }
  ]
}